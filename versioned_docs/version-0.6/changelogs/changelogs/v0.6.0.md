---
title: "v0.6.0"
date: "2023-04-05 13:35:35 +0000 UTC"
---


*  (rancherio-gh-m) released this 2023-04-05 13:35:35 +0000 UTC*


## Notes

Upgrading the Fleet helm chart upgrades the fleet-controller and its config. To avoid race conditions while fleet-controller starts updating the fleet-agents, we propose to scale down the fleet-controller to zero replicas before starting the upgrade.

When using Fleet in Rancher and updating from Rancher 2.5, the default installation namespace for fleet changes from `fleet-system` to `cattle-fleet-system`. This release adds code to re-deploy the agents if necessary, to regenerate their config in the new namespace. Once the new agent is running and the cluster resources status is ok, it's fine to delete any leftover `fleet-system` namespaces. In older versions of fleet, it's possible to [copy the agent config manually](https://github.com/rancher/rancher/issues/40127#issuecomment-1379027121) into the new namespace,  or to [trigger the agent redeployment manually](https://github.com/rancher/rancher/issues/40127#issuecomment-1381884485).

## Additions

* Add authentication support for OCI based Helm charts by @thardeck in https://github.com/rancher/fleet/pull/996
* Support cluster repo change by @manno in https://github.com/rancher/fleet/pull/999
* Apply gitrepo labels to bundles by @manno in https://github.com/rancher/fleet/pull/1007
* Add allowedTargetNamespaces to GitRepoRestriction by @manno in https://github.com/rancher/fleet/pull/1008
* Enforce presence of targetNamespace if gitreporestriction is present. by @manno in https://github.com/rancher/fleet/pull/1022
* Cluster specific registry replaces global registry by @manno in https://github.com/rancher/fleet/pull/1053
* Reading contents&secrets uses specific service account by @manno in https://github.com/rancher/fleet/pull/1063
* Cluster values full templating by @manno in https://github.com/rancher/fleet/pull/1158
* Helm Target Customization Repo/Version Override by @romejoe in https://github.com/rancher/fleet/pull/1011
* Sprig Templating for Helm Values with Inputs from Cluster Resource by @rajiteh in https://github.com/rancher/fleet/pull/671
* Add helmRepoUrlRegex to the GitRepo by @raulcabello in https://github.com/rancher/fleet/pull/1234

## Bugfixes

* Fix token expiry bug by @manno in https://github.com/rancher/fleet/pull/995
* Stop re-queuing on failed deployments by @mattfarina in https://github.com/rancher/fleet/pull/1042
* Sync only changed objects by @moio in https://github.com/rancher/fleet/pull/1041
* Returning nil on signal exit by @mattfarina in https://github.com/rancher/fleet/pull/1104
* Running helm template to set up status ignores errors by @manno in https://github.com/rancher/fleet/pull/1103
* Do not fail on missing labels by @thardeck in https://github.com/rancher/fleet/pull/1114
* Limit recursion depth for cluster label replacement in values by @manno in https://github.com/rancher/fleet/pull/1143
* Update bundle status display also in case of errors by @moio in https://github.com/rancher/fleet/pull/1123
* Disable Gitops Feature Breaks Fleet Controller Deployment by @SharpThunder in https://github.com/rancher/fleet/pull/1185
* Do not ignore agentCheckinInterval by @moio in https://github.com/rancher/fleet/pull/1058
* Scaling: avoid needlessly looking up agent bundle deployments by @moio in https://github.com/rancher/fleet/pull/1062
* Fix image scan issues by @thardeck in https://github.com/rancher/fleet/pull/1181
* Fix orphan resources created by operators by @raulcabello in https://github.com/rancher/fleet/pull/1201
* Don't run kustomize on repos without kustomization by @p-se in https://github.com/rancher/fleet/pull/1157
* Fix regression in imagescan test by @thardeck in https://github.com/rancher/fleet/pull/1228
* Long release names, shorten only once by @manno in https://github.com/rancher/fleet/pull/1273
* Fix agent not starting in fleet-system namespace by @raulcabello in https://github.com/rancher/fleet/pull/1323
* Ensure valid release name for agent by @manno in https://github.com/rancher/fleet/pull/1357
* Bump Gitjob to v0.1.37 by @thardeck in https://github.com/rancher/fleet/pull/1326

## What's Changed

* Removing the docs directory by @mattfarina in https://github.com/rancher/fleet/pull/1014
* Scripts for local testing with k3d by @manno in https://github.com/rancher/fleet/pull/1024
* Debug statements for controllers by @manno in https://github.com/rancher/fleet/pull/1036
* Scaling: make ClusterEnqueueDelay configurable via environment variable by @moio in https://github.com/rancher/fleet/pull/1071
* Add nightly builds by @manno in https://github.com/rancher/fleet/pull/1075
* Cluster registration debug messages and comments by @manno in https://github.com/rancher/fleet/pull/1095
* Add support to continuous pprof CPU profiling by @moio in https://github.com/rancher/fleet/pull/1076
* Split DEVELOPING.md into separate files in docs/ by @manno in https://github.com/rancher/fleet/pull/1134
* Add CLI to generate reference docs by @manno in https://github.com/rancher/fleet/pull/1126
* Allow to run longer before killing leader during debugging by @moio in https://github.com/rancher/fleet/pull/1137
* Introduce parameter to debug controller but not agents by @moio in https://github.com/rancher/fleet/pull/1124
* Fix CRD download url by @olblak in https://github.com/rancher/fleet/pull/1190
* Add Github Action workflow to prevent manual changes to Gitjob or generated code by @thardeck in https://github.com/rancher/fleet/pull/1239
* Fleet in Rancher Upgrade CI by @manno in https://github.com/rancher/fleet/pull/1198


## New Contributors
* @romejoe made their first contribution in https://github.com/rancher/fleet/pull/1011
* @rajiteh made their first contribution in https://github.com/rancher/fleet/pull/671
* @fossabot made their first contribution in https://github.com/rancher/fleet/pull/431
* @github-actions made their first contribution in https://github.com/rancher/fleet/pull/1182
* @SharpThunder made their first contribution in https://github.com/rancher/fleet/pull/1185
* @p-se made their first contribution in https://github.com/rancher/fleet/pull/1157

**Full Changelog**: https://github.com/rancher/fleet/compare/v0.5.0...v0.6.0


## Download

* [sha256sum-amd64.txt](https://github.com/rancher/fleet/releases/download/v0.6.0/sha256sum-amd64.txt)

* [fleetcontroller-windows-amd64.exe](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetcontroller-windows-amd64.exe)

* [fleetcontroller-linux-amd64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetcontroller-linux-amd64)

* [fleetagent-windows-amd64.exe](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetagent-windows-amd64.exe)

* [fleetagent-linux-amd64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetagent-linux-amd64)

* [fleet-windows-amd64.exe](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-windows-amd64.exe)

* [fleet-linux-amd64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-linux-amd64)

* [fleet-crd-0.6.0.tgz](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-crd-0.6.0.tgz)

* [fleet-agent-0.6.0.tgz](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-agent-0.6.0.tgz)

* [fleet-0.6.0.tgz](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-0.6.0.tgz)

* [sha256sum-s390x.txt](https://github.com/rancher/fleet/releases/download/v0.6.0/sha256sum-s390x.txt)

* [fleetcontroller-linux-s390x](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetcontroller-linux-s390x)

* [fleetagent-linux-s390x](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetagent-linux-s390x)

* [fleet-linux-s390x](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-linux-s390x)

* [sha256sum-arm64.txt](https://github.com/rancher/fleet/releases/download/v0.6.0/sha256sum-arm64.txt)

* [fleetcontroller-linux-arm64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetcontroller-linux-arm64)

* [fleetagent-linux-arm64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleetagent-linux-arm64)

* [fleet-linux-arm64](https://github.com/rancher/fleet/releases/download/v0.6.0/fleet-linux-arm64)



*Information retrieved from [here](https://github.com/rancher/fleet/releases/tag/v0.6.0)*

